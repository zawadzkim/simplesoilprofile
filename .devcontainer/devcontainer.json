// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// README at: https://github.com/devcontainers/templates/tree/main/src/python
{
    "name": "simplesoilprofile",
    // Or use a Dockerfile or Docker Compose file. More info: https://containers.dev/guide/dockerfile
    "image": "mcr.microsoft.com/devcontainers/python:1-3.11-bullseye",
    "features": {
        "ghcr.io/devcontainers-contrib/features/poetry:2": {},
        "ghcr.io/devcontainers/features/common-utils:2.5.4": {}
    },

      // Set Poetry to create virtualenv in project directory
    "containerEnv": {
        "POETRY_VIRTUALENVS_IN_PROJECT": "true"
    },
    // Use 'postCreateCommand' to run commands after the container is created.
    "postCreateCommand": "./.devcontainer/postCreateCommand.sh",

    // Configure tool-specific properties.
    "customizations": {
        "vscode": {
        "extensions": [
            "ms-python.python",
            "ms-toolsai.jupyter@2025.7.0",
            "editorconfig.editorconfig",
            "ms-vscode.makefile-tools",
            "github.vscode-pull-request-github"
        ],
            "settings": {
                "files.eol": "\n",
                "editor.rulers": [80],
                "python.testing.pytestArgs": ["tests"],
                "python.testing.unittestEnabled": false,
                "python.testing.pytestEnabled": true,
                "python.defaultInterpreterPath": "/workspaces/simplesoilprofile/.venv/bin/python",
                "python.testing.pytestPath": "/workspaces/simplesoilprofile/.venv/bin/pytest",
                "extensions.autoUpdate": false
            }
        }
    }
}
